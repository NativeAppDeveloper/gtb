import React from 'react'
import { useNavigate, useLocation } from 'react-router-dom'
import { twMerge } from 'tailwind-merge'

function BottomNavigation() {
  const navigate = useNavigate()
  const location = useLocation()

  const navItems = [
    {
      id: 'home',
      label: 'Home',
      icon: <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.0111 10.1847L17.478 1.64531C16.4219 0.591672 14.9914 0 13.5 0C12.0086 0 10.5781 0.591672 9.522 1.64531L0.988888 10.1847C0.674366 10.4974 0.425004 10.8694 0.255256 11.2793C0.085508 11.6891 -0.0012492 12.1286 1.35894e-05 12.5722V23.623C1.35894e-05 24.5186 0.355593 25.3776 0.988527 26.0109C1.62146 26.6442 2.47991 27 3.37501 27H23.625C24.5201 27 25.3785 26.6442 26.0115 26.0109C26.6444 25.3776 27 24.5186 27 23.623V12.5722C27.0012 12.1286 26.9145 11.6891 26.7447 11.2793C26.575 10.8694 26.3256 10.4974 26.0111 10.1847ZM16.875 24.7487H10.125V20.3202C10.125 19.4246 10.4806 18.5656 11.1135 17.9323C11.7465 17.299 12.6049 16.9432 13.5 16.9432C14.3951 16.9432 15.2535 17.299 15.8865 17.9323C16.5194 18.5656 16.875 19.4246 16.875 20.3202V24.7487ZM24.75 23.623C24.75 23.9215 24.6315 24.2078 24.4205 24.4189C24.2095 24.6301 23.9234 24.7487 23.625 24.7487H19.125V20.3202C19.125 18.8275 18.5324 17.3959 17.4775 16.3404C16.4226 15.2849 14.9918 14.6919 13.5 14.6919C12.0082 14.6919 10.5774 15.2849 9.52253 16.3404C8.46764 17.3959 7.87501 18.8275 7.87501 20.3202V24.7487H3.37501C3.07664 24.7487 2.79049 24.6301 2.57952 24.4189C2.36854 24.2078 2.25001 23.9215 2.25001 23.623V12.5722C2.25105 12.2739 2.36947 11.988 2.57964 11.7764L11.1128 3.24039C11.7469 2.60881 12.6052 2.25424 13.5 2.25424C14.3948 2.25424 15.2531 2.60881 15.8872 3.24039L24.4204 11.7798C24.6297 11.9905 24.7481 12.2751 24.75 12.5722V23.623Z" fill="currentColor"/>
      </svg>,
      path: '/',
    },
    {
      id: 'events',
      label: 'Events',
      icon: <svg width="28" height="28" viewBox="0 0 28 28" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M21 14H7C5.71317 14 4.66667 15.0465 4.66667 16.3333V18.6667C4.66667 19.9535 5.71317 21 7 21H21C22.2868 21 23.3333 19.9535 23.3333 18.6667V16.3333C23.3333 15.0465 22.2868 14 21 14ZM7 18.6667V16.3333H21V18.6667H7ZM22.1667 2.33333H21V1.16667C21 0.522667 20.4785 0 19.8333 0C19.1882 0 18.6667 0.522667 18.6667 1.16667V2.33333H9.33333V1.16667C9.33333 0.522667 8.81183 0 8.16667 0C7.5215 0 7 0.522667 7 1.16667V2.33333H5.83333C2.61683 2.33333 0 4.95017 0 8.16667V22.1667C0 25.3832 2.61683 28 5.83333 28H22.1667C25.3832 28 28 25.3832 28 22.1667V8.16667C28 4.95017 25.3832 2.33333 22.1667 2.33333ZM5.83333 4.66667H22.1667C24.0963 4.66667 25.6667 6.237 25.6667 8.16667V9.33333H2.33333V8.16667C2.33333 6.237 3.90367 4.66667 5.83333 4.66667ZM22.1667 25.6667H5.83333C3.90367 25.6667 2.33333 24.0963 2.33333 22.1667V11.6667H25.6667V22.1667C25.6667 24.0963 24.0963 25.6667 22.1667 25.6667Z" fill="currentColor"/>
      </svg>,
      path: '/events',
    },
    {
      id: 'navigate',
      label: 'Navigate',
      icon: <svg width="28" height="28" viewBox="0 0 28 28" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M1.16699 18.667C1.81073 18.6672 2.33283 19.1893 2.33301 19.833V22.167C2.33318 24.0964 3.9036 25.6668 5.83301 25.667H8.16699C8.81073 25.6672 9.33283 26.1893 9.33301 26.833C9.33301 27.4769 8.81084 27.9998 8.16699 28H5.83301C2.61677 27.9998 0.000176889 25.3832 0 22.167V19.833C0.000175404 19.1892 0.5231 18.667 1.16699 18.667ZM26.833 18.667C27.4769 18.667 27.9998 19.1892 28 19.833V22.167C27.9998 25.3832 25.3832 27.9998 22.167 28H19.833C19.1892 27.9998 18.667 27.4769 18.667 26.833C18.6672 26.1893 19.1893 25.6672 19.833 25.667H22.167C24.0964 25.6668 25.6668 24.0964 25.667 22.167V19.833C25.6672 19.1893 26.1893 18.6672 26.833 18.667ZM9.91699 15.167C11.5244 15.1672 12.8328 16.4756 12.833 18.083V20.417C12.8328 22.0244 11.5244 23.3328 9.91699 23.333H7.58301C5.9756 23.3328 4.66717 22.0244 4.66699 20.417V18.083C4.66717 16.4756 5.9756 15.1672 7.58301 15.167H9.91699ZM19.5 15C20.4347 15 21.3134 15.3807 21.9746 16.0723C22.6358 16.7632 23 17.6826 23 18.6611C23 19.6397 22.6358 20.559 21.9746 21.25L20.8037 22.4492C20.4442 22.8171 19.9721 23 19.5 23C19.0279 23.0007 18.5552 22.8171 18.1963 22.4492V22.4482L17.0303 21.2549C16.364 20.5593 16 19.6397 16 18.6611C16 17.6826 16.3642 16.7632 17.0254 16.0723C17.6859 15.3807 18.5653 15 19.5 15ZM19.5 16.332C18.9044 16.332 18.3454 16.5746 17.9248 17.0146C17.5043 17.4553 17.2725 18.0398 17.2725 18.6621C17.2725 19.2844 17.5042 19.8696 17.9248 20.3096L19.0859 21.498C19.315 21.732 19.6857 21.7309 19.9141 21.498L21.0791 20.3037C21.4952 19.8684 21.7275 19.2844 21.7275 18.6621C21.7275 18.0398 21.4963 17.4546 21.0752 17.0146C20.6539 16.5746 20.0956 16.332 19.5 16.332ZM7.58301 17.5C7.26127 17.5002 7.00018 17.7613 7 18.083V20.417C7.00018 20.7387 7.26127 20.9998 7.58301 21H9.91699C10.2387 20.9998 10.4998 20.7387 10.5 20.417V18.083C10.4998 17.7613 10.2387 17.5002 9.91699 17.5H7.58301ZM19.499 17.6592C20.0259 17.6592 20.4541 18.107 20.4541 18.6582C20.4539 19.2092 20.0258 19.6562 19.499 19.6562C18.9724 19.6561 18.5451 19.2091 18.5449 18.6582C18.5449 18.1071 18.9723 17.6594 19.499 17.6592ZM9.91699 4.66699C11.5244 4.66717 12.8328 5.9756 12.833 7.58301V9.91699C12.8328 11.5244 11.5244 12.8328 9.91699 12.833H7.58301C5.9756 12.8328 4.66717 11.5244 4.66699 9.91699V7.58301C4.66717 5.9756 5.9756 4.66717 7.58301 4.66699H9.91699ZM20.417 4.66699C22.0244 4.66717 23.3328 5.9756 23.333 7.58301V9.91699C23.3328 11.5244 22.0244 12.8328 20.417 12.833H18.083C16.4756 12.8328 15.1672 11.5244 15.167 9.91699V7.58301C15.1672 5.9756 16.4756 4.66717 18.083 4.66699H20.417ZM7.58301 7C7.26127 7.00018 7.00018 7.26127 7 7.58301V9.91699C7.00018 10.2387 7.26127 10.4998 7.58301 10.5H9.91699C10.2387 10.4998 10.4998 10.2387 10.5 9.91699V7.58301C10.4998 7.26127 10.2387 7.00018 9.91699 7H7.58301ZM18.083 7C17.7613 7.00018 17.5002 7.26127 17.5 7.58301V9.91699C17.5002 10.2387 17.7613 10.4998 18.083 10.5H20.417C20.7387 10.4998 20.9998 10.2387 21 9.91699V7.58301C20.9998 7.26127 20.7387 7.00018 20.417 7H18.083ZM8.16699 0C8.81084 0.000176436 9.33301 0.523101 9.33301 1.16699C9.33283 1.81073 8.81073 2.33283 8.16699 2.33301H5.83301C3.9036 2.33318 2.33318 3.9036 2.33301 5.83301V8.16699C2.33283 8.81073 1.81073 9.33283 1.16699 9.33301C0.523101 9.33301 0.000176436 8.81084 0 8.16699V5.83301C0.00017637 2.61677 2.61677 0.000176372 5.83301 0H8.16699ZM22.167 0C25.3832 0.000176887 27.9998 2.61677 28 5.83301V8.16699C27.9998 8.81084 27.4769 9.33301 26.833 9.33301C26.1893 9.33283 25.6672 8.81073 25.667 8.16699V5.83301C25.6668 3.9036 24.0964 2.33318 22.167 2.33301H19.833C19.1893 2.33283 18.6672 1.81073 18.667 1.16699C18.667 0.5231 19.1892 0.000175404 19.833 0H22.167Z" fill="currentColor"/>
      </svg>,
      path: '/navigate',
    },
    {
      id: 'gallery',
      label: 'Gallery',
      icon: <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M16.5455 22.9095C18.9547 22.9095 20.9682 22.772 22.568 22.5925C21.5842 25.5557 20.6793 27.2447 20.6296 27.3351C20.4133 27.7322 20.0009 27.9855 19.5491 27.9982C19.4015 28.002 15.8569 28.0835 9.83691 26.5319C3.81691 24.9803 0.753459 23.1959 0.626187 23.1195C0.236732 22.8891 -0.00126765 22.4691 5.07902e-06 22.0159C5.07902e-06 21.881 0.0330958 18.6735 1.28673 13.8114C1.70928 12.1732 2.14837 10.8126 2.55437 9.68106C2.5531 9.85162 2.54546 10.0044 2.54546 10.18C2.54546 15.4317 3.33582 18.7117 3.42491 19.0681C3.75582 20.3804 4.76891 21.4279 6.06964 21.8034C6.46164 21.9167 10.0864 22.9069 16.5455 22.9069V22.9095ZM19.9182 10.2984C16.156 11.7328 12.3213 14.9174 8.50055 19.7325C10.1118 20.0189 12.8202 20.3638 16.5455 20.3638C22.7627 20.3638 26.1736 19.4003 26.3162 19.3596C26.7515 19.2336 27.0862 18.8861 27.1969 18.447C27.2096 18.3948 27.3407 17.85 27.4935 16.9158C25.55 14.2568 22.9473 11.976 19.9182 10.2971V10.2984ZM28 10.1813C28 11.3586 27.9555 12.4202 27.8905 13.3748C25.858 11.1435 23.3838 9.23557 20.6131 7.78201C20.3025 7.61909 19.9398 7.59109 19.6115 7.70437C15.0513 9.25467 10.4809 12.984 6.02128 18.7639C5.96528 18.6659 5.922 18.5602 5.894 18.4482C5.86091 18.3171 5.09219 15.2025 5.09219 10.1826C5.09219 4.98436 5.866 2.02251 5.8991 1.89905C6.01364 1.46756 6.34709 1.12899 6.776 1.00425C6.91855 0.963524 10.3295 0 16.5467 0C22.764 0 26.1749 0.963524 26.3175 1.00425C26.7527 1.13026 27.0875 1.47774 27.1982 1.91687C27.2313 2.04797 28 5.16128 28 10.1813ZM12.7273 5.72641C12.7273 4.36322 12.1813 3.81718 10.8182 3.81718C9.45509 3.81718 8.90909 4.36322 8.90909 5.72641C8.90909 7.0896 9.45509 7.63564 10.8182 7.63564C12.1813 7.63564 12.7273 7.0896 12.7273 5.72641Z" fill="currentColor"/>
      </svg>,
      path: '/GalleryComponent',
    },
    {
      id: 'profile',
      label: 'Profile',
      icon: <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14 0C4.18727 0 0 4.18727 0 14C0 23.8127 4.18727 28 14 28C23.8127 28 28 23.8127 28 14C28 4.18727 23.8127 0 14 0ZM8.53618 24.7864C9.016 22.8213 10.2798 21.6364 14 21.6364C17.7202 21.6364 18.9853 22.8213 19.4638 24.7864C17.9671 25.2407 16.1624 25.4545 14 25.4545C11.8376 25.4545 10.0329 25.2407 8.53618 24.7864ZM21.7891 23.7109C20.5011 19.6165 16.8051 19.0896 14.0013 19.0896C11.1975 19.0896 7.50145 19.6153 6.21345 23.7109C3.63236 21.9927 2.54673 18.9076 2.54673 13.9987C2.54545 5.64964 5.64964 2.54545 14 2.54545C22.3504 2.54545 25.4545 5.64964 25.4545 14C25.4545 18.9089 24.3689 21.994 21.7878 23.7122L21.7891 23.7109ZM14 6.36364C10.5751 6.36364 8.90909 8.02964 8.90909 11.4545C8.90909 14.8795 10.5751 16.5455 14 16.5455C17.4249 16.5455 19.0909 14.8795 19.0909 11.4545C19.0909 8.02964 17.4249 6.36364 14 6.36364ZM14 14C11.9776 14 11.4545 13.4769 11.4545 11.4545C11.4545 9.43218 11.9776 8.90909 14 8.90909C16.0224 8.90909 16.5455 9.43218 16.5455 11.4545C16.5455 13.4769 16.0224 14 14 14Z" fill="currentColor"/>
      </svg>,
      path: '/profile',
    },
  ]

  const isActive = (path) => {
    if (path === '/') {
      return location.pathname === '/'
    }
    return location.pathname === path || location.pathname.startsWith(path + '/')
  }

  return (
    <nav className="fixed bottom-0 left-0 right-0 z-50 bg-[#FFE5D9] border-t border-orange-200">
      <div className="max-w-md mx-auto px-4 py-2">
        <div className="flex items-center justify-around">
          {navItems.map((item) => {
            const active = isActive(item.path)
            
            return (
              <button
                key={item.id}
                onClick={() => navigate(item.path)}
                className="flex flex-col items-center justify-center gap-1 py-2 px-3 transition-colors"
              >
                <div className={twMerge(
                  'w-6 h-6 transition-colors',
                  active 
                    ? 'text-[#1E3A8A] [&>svg]:fill-[#1E3A8A]' 
                    : 'text-[#8B6F47] [&>svg]:fill-none'
                )}>
                  {item.icon}
                </div>
                <span
                  className={`text-xs font-medium transition-colors ${
                    active ? 'text-[#1E3A8A]' : 'text-[#9CA3AF]'
                  }`}
                >
                  {item.label}
                </span>
              </button>
            )
          })}
        </div>
      </div>
    </nav>
  )
}

export default BottomNavigation